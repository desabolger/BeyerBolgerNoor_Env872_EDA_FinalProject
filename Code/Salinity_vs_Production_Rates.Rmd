---
title: "Salinity_vs_Production_Rates"
author: "Nusrat Noor"
date: "2023-11-09"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r setup}
library(tidyverse)
library(here)
library(lubridate)
here()
```
```{r, loading in data}
temp_sal <- read.csv(here("./Data/Raw/Temperature-Salinity.csv"), stringsAsFactors = TRUE)
temp_sal$date <- as.Date(temp_sal$date)
view(temp_sal)
prod_rates <- read.csv(here("./Data/Raw/Seagrass-production-rates.csv"), stringsAsFactors = TRUE)
prod_rates$date <- as.Date(prod_rates$date)
view(prod_rates)
```

```{r}
temp_sal_clean <- temp_sal %>%
  filter(treatment == "reference")
view(temp_sal_clean)

prod_rates_clean <- prod_rates %>%
  select("treatment", "date", "exp_week", "gr_mass") %>%
  filter(treatment == "reference") %>%
  group_by(date) %>%
  summarise(meangrowth = mean(gr_mass), exp_week = median(exp_week)) %>%
  mutate(treatment = "reference")

view(prod_rates_clean)

```

```{r}
joined <- left_join(x = prod_rates_clean, y = temp_sal_clean, join_by(exp_week ==exp_week, treatment ==treatment)) %>%
  mutate(joined, meantemp = ((min_temp + max_temp)/2))

joined$date.x <- as.Date(joined$date.x)
view(joined)
```

```{r}
ggplot(joined, aes(x = meangrowth, y = salinity)) +
  geom_point() +
  geom_smooth()

ggplot(joined, aes(x = meantemp, y = meangrowth)) +
  geom_point() +
  geom_smooth(method = "lm")

```

